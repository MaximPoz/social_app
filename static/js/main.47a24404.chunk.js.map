{"version":3,"sources":["components/Navbar/Nav.module.css","reportWebVitals.js","components/Navbar/Nav.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","assets/image/flyCat.png","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","HOC/withSuspense.js","App.js","index.js","redux/auth-reducer.js","assets/image/loader.svg","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","components/Users/Users.module.css","api/api.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Nav","className","s","nav","item","to","activeClassName","activeLink","News","props","Music","Settings","updateObjectArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","type","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","state","action","followed","count","filter","id","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","unfollow","follow","src","photos","small","usersPhoto","disabled","some","name","status","Users","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","setCurrentPage","getUser","this","Preloader","React","Component","compose","connect","userAPI","bind","totalCount","Header","header","loginBlock","isAuth","login","logout","HeaderContainer","auth","INITIALIZED_SUCCESS","initialized","appReducer","friendsOnline","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","LoginPage","App","initializeApp","path","render","AppContainer","withRouter","promise","getAuthUserData","Promise","all","SamuraiJsAPP","StrictMode","ReactDOM","document","getElementById","SET_USER_DATA","email","setAuthUserData","payload","authAPI","me","response","password","rememberMe","message","messages","length","stopSubmit","_error","loader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPost","setStatus","getUserProfile","getProfile","getStatus","profileAPI","updateStatus","newPostText","postId","SAND_MESSAGE","dialogs","sendMessageActionCreator","newMessageBody","body","instance","axios","withCredentials","baseURL","headers","get","post","delete","console","warn","put"],"mappings":"gHACAA,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,kBAAkB,WAAa,0B,sJCD/E,IAYeC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,kHCYCQ,EAbH,WACR,OAAQ,sBAAKC,UAAWC,IAAEC,IAAlB,UACJ,qBAAKF,UAAWC,IAAEE,KAAlB,SAAwB,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAEK,WAA1C,uBADpB,IAEJ,qBAAKN,UAAWC,IAAEE,KAAlB,SAAwB,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAEK,WAA1C,wBACxB,qBAAKN,UAAWC,IAAEE,KAAlB,SAAwB,cAAC,IAAD,CAASC,GAAG,QAAQC,gBAAiBJ,IAAEK,WAAvC,oBACxB,qBAAKN,UAAWC,IAAEE,KAAlB,SAAwB,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAEK,WAAxC,qBACxB,qBAAKN,UAAWC,IAAEE,KAAlB,SAAwB,cAAC,IAAD,CAASC,GAAG,YAAYC,gBAAiBJ,IAAEK,WAA3C,wBACxB,uBACA,qBAAKN,UAAWC,IAAEE,KAAlB,SAAwB,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAEK,WAAxC,kCCJjBC,G,OAPF,SAACC,GACV,OAAQ,8BACJ,iD,OCKOC,G,OAPD,SAACD,GACX,OAAQ,8BACJ,oDCKOE,G,OAPE,SAACF,GACd,OAAQ,8BACJ,+C,sDCHKG,EAAoB,SAACC,EAAOC,EAAQC,EAAYC,GAC1D,OAAOH,EAAMI,KAAI,SAAAC,GACZ,OAAIA,EAAEH,KAAiBD,EACZ,2BAAKI,GAAMF,GAEfE,MCJTC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA+B,+BAEjCC,EAAe,CACfC,MAAO,GACPC,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbC,YAAY,EACZC,oBAAqB,IAmDZC,EAAgB,SAACC,GAAD,MAAa,CAAEC,KAAMhB,EAAQe,WAC7CE,EAAkB,SAACF,GAAD,MAAa,CAAEC,KAAMf,EAAUc,WAIjDG,EAAmB,SAACN,GAAD,MAAiB,CAAEI,KAAMX,EAAoBO,eAChEO,EAA0B,SAACP,EAAYG,GAAb,MAAyB,CAAEC,KAAMV,EAA8BM,aAAYG,WAsB5GK,EAAkB,uCAAG,WAAOC,EAAUN,EAAQO,EAAWC,GAApC,SAAAC,EAAA,6DACvBH,EAASF,GAAwB,EAAMJ,IADhB,SAEFO,EAAUP,GAFR,OAGS,GAHT,OAGVU,KAAKC,YACdL,EAASE,EAAcR,IAE3BM,EAASF,GAAwB,EAAOJ,IANjB,2CAAH,4DAuBTY,EAnGM,WAAmC,IAAlCC,EAAiC,uDAAzBrB,EAAcsB,EAAW,uCAEnD,OAAQA,EAAOb,MAEX,KAAKhB,EACD,OAAO,2BACA4B,GADP,IAEIpB,MAAOf,EAAkBmC,EAAMpB,MAAOqB,EAAOd,OAAQ,KAAM,CAACe,UAAU,MAG9E,KAAK7B,EACD,OAAO,2BACA2B,GADP,IAEIpB,MAAOf,EAAkBmC,EAAMpB,MAAOqB,EAAOd,OAAQ,KAAM,CAACe,UAAU,MAG9E,KAAK5B,EACD,OAAO,2BAAK0B,GAAZ,IAAmBpB,MAAOqB,EAAOrB,QAGrC,KAAKL,EACD,OAAO,2BAAKyB,GAAZ,IAAmBjB,YAAakB,EAAOlB,cAG3C,KAAKP,EACD,OAAO,2BAAKwB,GAAZ,IAAmBlB,gBAAiBmB,EAAOE,QAG/C,KAAK1B,EACD,OAAO,2BAAKuB,GAAZ,IAAmBhB,WAAYiB,EAAOjB,aAG1C,KAAKN,EACD,OAAO,2BACAsB,GADP,IAEIf,oBAAqBgB,EAAOjB,WAAP,sBACXgB,EAAMf,qBADK,CACgBgB,EAAOd,SACtCa,EAAMf,oBAAoBmB,QAAO,SAAAC,GAAE,OAAIA,GAAMJ,EAAOd,YAIlE,QACI,OAAOa,I,0DCrBJM,EArCC,SAAC,GAIb,IAJ8F,IAA/EC,EAA8E,EAA9EA,gBAAiB1B,EAA6D,EAA7DA,SAAUE,EAAmD,EAAnDA,YAAayB,EAAsC,EAAtCA,cAAsC,IAAvBC,mBAAuB,MAAT,GAAS,EAEzFC,EAAaC,KAAKC,KAAKL,EAAkB1B,GACzCgC,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAEf,IAAIE,EAAeL,KAAKC,KAAKF,EAAaD,GAC1C,EAAwCQ,mBAAS,GAAjD,mBAAKC,EAAL,KAAoBC,EAApB,KACIC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAAyBH,EAAgBT,EAG7C,OAAO,sBAAKvD,UAAWoE,IAAOC,UAAvB,UACFL,EAAgB,GACb,wBAAQM,QAAS,WAAQL,EAAiBD,EAAgB,IAA1D,kBAGHL,EACIT,QAAO,SAAAqB,GAAC,OAAIA,GAAKL,GAAyBK,GAAKJ,KAC/CnD,KAAI,SAACuD,GACF,OAAO,uBAAMvE,UAAWwE,IAAG,eACtBJ,IAAOK,aAAe5C,IAAgB0C,GACxCH,IAAOM,YAGNJ,QAAS,SAACK,GAAQrB,EAAciB,IAL7B,eAKsCA,IAFpCA,MAIhBT,EAAeE,GACZ,wBAAQM,QAAS,WAAQL,EAAiBD,EAAgB,IAA1D,sB,iBCYGY,EAvCJ,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,KAAM9C,EAA4C,EAA5CA,oBAAqB+C,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OAC/C,OAAO,gCACH,iCACI,qBAAK/E,UAAU,WAAf,SACI,cAAC,IAAD,CAASI,GAAI,YACPyE,EAAK1B,GADX,SAEI,qBAAK6B,IAA0B,MAArBH,EAAKI,OAAOC,MAAgBL,EAAKI,OAAOC,MCZvD,y2PDYuElF,UAAWoE,IAAOe,iBAG5F,8BACKN,EAAK7B,SACA,wBAAQoC,SAAUrD,EACfsD,MAAK,SAAAlC,GAAE,OAAIA,IAAO0B,EAAK1B,MACxBmB,QAAS,WACLQ,EAASD,EAAK1B,KAHpB,4EAMA,wBAAQiC,SAAUrD,EACfsD,MAAK,SAAAlC,GAAE,OAAIA,IAAO0B,EAAK1B,MACxBmB,QAAS,WACLS,EAAOF,EAAK1B,KAHlB,qFAQd,iCACI,iCACI,8BAAM0B,EAAKS,OACX,8BAAMT,EAAKU,YAEf,iCACI,8BAAM,4GACN,8BAAM,2E,wEEbPC,GApBH,SAAC,GAAgF,IAA9E3D,EAA6E,EAA7EA,YAAaD,EAAgE,EAAhEA,gBAAiBD,EAA+C,EAA/CA,SAAU2B,EAAqC,EAArCA,cAAe5B,EAAsB,EAAtBA,MAAUlB,EAAY,kBACxF,OAAO,gCACFkB,EAAMV,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CACZ4D,KAAM5D,EACNc,oBAAqBvB,EAAMuB,oBAE3B+C,SAAUtE,EAAMsE,SAChBC,OAAQvE,EAAMuE,QAFT9D,EAAEkC,OAKX,8BACA,cAAC,EAAD,CACItB,YAAaA,EACbyB,cAAeA,EACfD,gBAAiBzB,EACjBD,SAAUA,U,2BCdT8D,GAAWC,cAJE,SAAC5C,GACvB,OAAOA,EAAM6C,UAAUjE,SAG8B,SAACA,GACtD,OAAOA,EAAMwB,QAAO,SAAAjC,GAAC,OAAG,QAGf2E,GAAc,SAAC9C,GACxB,OAAOA,EAAM6C,UAAUhE,UAGdkE,GAAqB,SAAC/C,GAC/B,OAAOA,EAAM6C,UAAU/D,iBAGdkE,GAAiB,SAAChD,GAC3B,OAAOA,EAAM6C,UAAU9D,aAGdkE,GAAgB,SAACjD,GAC1B,OAAOA,EAAM6C,UAAU7D,YAGdkE,GAAyB,SAAClD,GACnC,OAAOA,EAAM6C,UAAU5D,qBCjBrBkE,G,4MASF3C,cAAgB,SAACoB,GACb,IAAM/C,EAAY,EAAKnB,MAAjBmB,SACN,EAAKnB,MAAM0F,eAAexB,GAC1B,EAAKlE,MAAM2F,QAAQzB,EAAY/C,I,uDAVnC,WACI,MAA+ByE,KAAK5F,MAA9BqB,EAAN,EAAMA,YAAaF,EAAnB,EAAmBA,SACnByE,KAAK5F,MAAM2F,QAAQtE,EAAaF,K,oBAWpC,WAEI,OAAO,qCACLyE,KAAK5F,MAAMsB,WAAa,cAACuE,GAAA,EAAD,IAAiB,KACvC,cAAC,GAAD,CAAOzE,gBAAiBwE,KAAK5F,MAAMoB,gBAC/BD,SAAUyE,KAAK5F,MAAMmB,SACrBE,YAAauE,KAAK5F,MAAMqB,YACxByB,cAAe8C,KAAK9C,cACpB5B,MAAO0E,KAAK5F,MAAMkB,MAClBqD,OAAQqB,KAAK5F,MAAMuE,OACnBD,SAAUsB,KAAK5F,MAAMsE,SACrB/C,oBAAqBqE,KAAK5F,MAAMuB,6B,GA1BnBuE,IAAMC,WA6CpBC,gBACXC,aAbkB,SAAC3D,GACnB,MAAO,CACHpB,MAAO+D,GAAS3C,GAChBnB,SAAUiE,GAAY9C,GACtBlB,gBAAiBiE,GAAmB/C,GACpCjB,YAAaiE,GAAehD,GAC5BhB,WAAYiE,GAAcjD,GAC1Bf,oBAAoBiE,GAAuBlD,MAMtB,CAACiC,ONiDR,SAAC9C,GACnB,8CAAO,WAAOM,GAAP,SAAAG,EAAA,sDACHJ,EAAmBC,EAAUN,EAAQyE,IAAQ3B,OAAO4B,KAAKD,KAAU1E,GADhE,2CAAP,uDMlDkC8C,SNuDd,SAAC7C,GACrB,8CAAO,WAAOM,GAAP,SAAAG,EAAA,sDACHJ,EAAmBC,EAAUN,EAAQyE,IAAQ5B,SAAS6B,KAAKD,KAAUvE,GADlE,2CAAP,uDMxD4C+D,eNelB,SAACrE,GAAD,MAAkB,CAAEK,KAAMb,EAAkBQ,gBMfVQ,0BAAwB8D,QNuBjE,SAACtE,EAAaF,GACjC,8CAAO,WAAOY,GAAP,eAAAG,EAAA,6DACHH,EAASH,GAAiB,IADvB,SAEcsE,IAAQjB,SAAS5D,EAAaF,GAF5C,OAECgB,EAFD,OAGHJ,EAASH,GAAiB,IAC1BG,GAdiBb,EAcCiB,EAAK/B,MAdK,CAAEsB,KAAMd,EAAWM,WAe/Ca,GAb2BX,EAaCe,EAAKiE,WAbe,CAAE1E,KAAMZ,EAAuB2B,MAAOrB,KAQnF,iCARuB,IAACA,EAFVF,IAUd,OAAP,yDMzBW8E,CAEVP,I,6BCzCUY,GAXA,SAACrG,GACd,OAAO,yBAAQR,UAAWC,KAAE6G,OAArB,UACL,qBAAK9B,IAAI,4EAET,qBAAKhF,UAAWC,KAAE8G,WAAlB,SACGvG,EAAMwG,OACH,oCAAOxG,EAAMyG,MAAb,MAAsB,wBAAQ3C,QAAS9D,EAAM0G,OAAvB,sBAAtB,OACA,cAAC,IAAD,CAAS9G,GAAI,SAAb,yBCLH+G,G,4JAEH,WACA,OAAO,cAAC,GAAD,eAAYf,KAAK5F,Y,GAHG8F,IAAMC,WAYtBE,gBALS,SAAC3D,GAAD,MAAY,CAChCkE,OAAQlE,EAAMsE,KAAKJ,OACnBC,MAAOnE,EAAMsE,KAAKH,SAGmB,CAAEC,aAA5BT,CAAsCU,ICf/CE,GAAsB,sBAIxB5F,GAAe,CACf6F,aAAa,GA6BFC,GA1BI,WAAmC,IAAlCzE,EAAiC,uDAAzBrB,GAAcsB,EAAW,uCAEjD,OAAQA,EAAOb,OACNmF,GACM,2BACAvE,GADP,IAEIwE,aAAa,IAGVxE,G,kBCrBVrB,GAAe,CAChB+F,cAAe,CACX,CAAErE,GAAI,EAAGmC,KAAM,QACf,CAAEnC,GAAI,EAAGmC,KAAM,UACf,CAAEnC,GAAI,EAAGmC,KAAM,WAUZmC,GANY,WAAmC,IAAlC3E,EAAiC,uDAAzBrB,GAEhC,OAAOqB,G,kBCAP4E,GAAWC,aAAgB,CAC3BC,YAAaC,KACbC,YAAaC,KACbC,QAASP,GACT9B,UAAW9C,EACXuE,KAAMa,KACNC,KAAMC,KACNC,IAAKb,KAGHc,GAAmBC,OAAOC,sCAAwC/B,KAClEgC,GAAQC,aAAYf,GAAWW,GAAiBK,aAAgBC,QAEtEL,OAAOM,UAAYJ,GAEJA,UCpBFK,GAAe,SAACtC,GAEzB,OAAO,SAAC/F,GACJ,OAAO,cAAC,IAAMsI,SAAP,CAAgBC,SAAU,6CAA1B,SACH,cAACxC,EAAD,eAAe/F,QCWrBwI,GAAmB1C,IAAM2C,MAAK,kBAAM,uDACpCC,GAAmB5C,IAAM2C,MAAK,kBAAM,uDACpCE,GAAY7C,IAAM2C,MAAK,kBAAM,uDAG7BG,G,uKAEJ,WACEhD,KAAK5F,MAAM6I,kB,oBAGb,WACE,OAAKjD,KAAK5F,MAAM8G,YAId,sBAAKtH,UAAU,cAAf,UACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAU,sBAAf,UACE,cAAC,IAAD,CAAOsJ,KAAK,WACVC,OAAQV,GACLG,MAEL,cAAC,IAAD,CAAOM,KAAK,oBACVC,OAAQV,GACLK,MAEL,cAAC,IAAD,CAAOI,KAAK,QACVC,OAAQ,kBAAM,cAAC,EAAD,OAChB,cAAC,IAAD,CAAOD,KAAK,SACVC,OAAQ,kBAAM,cAAC,EAAD,OAChB,cAAC,IAAD,CAAOD,KAAK,YACVC,OAAQ,kBAAM,cAAC,EAAD,OAChB,cAAC,IAAD,CAAOD,KAAK,SACVC,OAAQ,kBAAM,cAAC,GAAD,OAChB,cAAC,IAAD,CAAOD,KAAK,SACVC,OAAQV,GACLM,YAzBF,cAAC9C,GAAA,EAAD,Q,GARKE,aA6CdiD,GAAehD,aACjBiD,IACAhD,aANsB,SAAC3D,GAAD,MAAY,CAClCwE,YAAaxE,EAAMsF,IAAId,eAKE,CAAE+B,cJ5CA,kBAAM,SAAC9G,GAChC,IAAImH,EAAUnH,EAASoH,gBACvBC,QAAQC,IAAI,CAACH,IACRjK,MAAK,WACV8C,EAPqC,CAAEL,KAAMmF,YI6C9Bb,CAE4B4C,IAahCU,GAXM,SAACtJ,GACpB,OAAO,cAAC,IAAMuJ,WAAP,UACL,cAAC,IAAD,UACE,cAAC,IAAD,CAAUvB,MAAOA,GAAjB,SACE,cAACgB,GAAD,WCtERQ,IAAST,OAAO,cAAC,GAAD,IAAkBU,SAASC,eAAe,SAK1D5K,K,wLCVM6K,EAAiB,qCAInB1I,EAAe,CACfQ,OAAQ,KACRmI,MAAO,KACPnD,MAAO,KACPD,QAAQ,GAiBCqD,EAAkB,SAACpI,EAAQmI,EAAOnD,EAAOD,GAAvB,MAC3B,CAAE9E,KAAMiI,EAAeG,QAAS,CAAErI,SAAQmI,QAAOnD,QAAOD,YAI/C2C,EAAkB,yDAAM,WAAMpH,GAAN,uBAAAG,EAAA,sEACZ6H,IAAQC,KADI,OAGI,KAFjCC,EAD6B,QAGhB9H,KAAKC,aAAkB,EACL6H,EAAS9H,KAAKA,KAAnCQ,EAD0B,EAC1BA,GAAIiH,EADsB,EACtBA,MAAOnD,EADe,EACfA,MACjB1E,EAAS8H,EAAgBlH,EAAIiH,EAAOnD,GAAO,KALlB,2CAAN,uDAUlBA,EAAQ,SAACmD,EAAOM,EAAUC,GAAlB,8CAAiC,WAAOpI,GAAP,iBAAAG,EAAA,sEAC7B6H,IAAQtD,MAAMmD,EAAOM,EAAUC,GADF,OAGb,KAFjCF,EAD8C,QAGjC9H,KAAKC,WACdL,EAASoH,MAELiB,EAAUH,EAAS9H,KAAKkI,SAASC,OAAS,EAAIL,EAAS9H,KAAKkI,SAAS,GAAK,aAC9EtI,EAASwI,YAAW,QAAS,CAAEC,OAAQJ,MAPG,2CAAjC,uDAYR1D,EAAS,SAACkD,EAAOM,EAAUC,GAAlB,8CAAiC,WAAOpI,GAAP,SAAAG,EAAA,sEAC7B6H,IAAQrD,SADqB,OAEd,IAFc,OAElCvE,KAAKC,YACdL,EAAS8H,EAAgB,KAAM,KAAM,MAAM,IAHA,2CAAjC,uDAQPpC,IAjDK,WAAmC,IAAlCnF,EAAiC,uDAAzBrB,EAAcsB,EAAW,uCAElD,OAAQA,EAAOb,OACNiI,EACM,2BACArH,GACAC,EAAOuH,SAIPxH,I,yCCxBJ,MAA0B,mC,OCQ1BuD,IAJC,SAAC7F,GACZ,OAAO,qBAAKwE,IAAKiG,M,mBCJtB7L,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,aAAe,kC,mBCArHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,0NCCzD6L,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cAEhB5J,EAAe,CACf6J,MAAO,CACH,CAAEnI,GAAI,EAAGyH,QAAS,UAAWW,WAAY,OACzC,CAAEpI,GAAI,EAAGyH,QAAS,WAAYW,WAAY,OAC1C,CAAEpI,GAAI,EAAGyH,QAAS,cAAeW,WAAY,OAC7C,CAAEpI,GAAI,EAAGyH,QAAS,OAAQW,WAAY,KAE1CC,QAAS,KACTjG,OAAQ,IA4CCkG,EAAuB,SAACC,GAAD,MAAc,CAAExJ,KAAMgJ,EAAUQ,YAEvDC,EAAY,SAACpG,GAAD,MAAa,CAAErD,KAAMkJ,EAAY7F,WAK7CqG,EAAiB,SAAC3J,GAAD,8CAAY,WAAOM,GAAP,eAAAG,EAAA,sEACjBgE,IAAQmF,WAAW5J,GADF,OAClCwI,EADkC,OAEtClI,GAR2BiJ,EAQHf,EAAS9H,KARO,CAAET,KAAMiJ,EAAkBK,aAM5B,iCANZ,IAACA,IAMW,OAAZ,uDAKjBM,EAAY,SAAC7J,GAAD,8CAAY,WAAOM,GAAP,eAAAG,EAAA,sEACZqJ,IAAWD,UAAU7J,GADT,OAC7BwI,EAD6B,OAEjClI,EAASoJ,EAAUlB,EAAS9H,OAFK,2CAAZ,uDAKZqJ,EAAe,SAACzG,GAAD,8CAAY,WAAOhD,GAAP,SAAAG,EAAA,sEACfqJ,IAAWC,aAAazG,GADT,OAEH,IAFG,OAEvB5C,KAAKC,YACdL,EAASoJ,EAAUpG,IAHa,2CAAZ,uDAUbsC,IApEQ,WAAmC,IAAlC/E,EAAiC,uDAAzBrB,EAAcsB,EAAW,uCAErD,OAAQA,EAAOb,MACX,KAAKgJ,EACD,IAAIQ,EAAU,CACVvI,GAAI,EACJyH,QAAS7H,EAAOkJ,YAChBV,WAAY,GAEhB,OAAO,2BACAzI,GADP,IAEIwI,MAAM,GAAD,mBAAMxI,EAAMwI,OAAZ,CAAmBI,IACxBO,YAAa,KAKrB,KAAKd,EACD,OAAO,2BACArI,GADP,IAEI0I,QAASzI,EAAOyI,UAGxB,KAAKJ,EACD,OAAO,2BACAtI,GADP,IAEIyC,OAAQxC,EAAOwC,SAGvB,KAAK8F,EACD,OAAO,2BACAvI,GADP,IAEIwI,MAAOxI,EAAMwI,MAAMpI,QAAO,SAAAqB,GAAC,OAAIA,EAAEpB,IAAMJ,EAAOmJ,YAGtD,QACI,OAAOpJ,K,qFCtDbqJ,EAAe,eAEjB1K,EAAe,CACfoJ,SAAU,CACN,CAAE1H,GAAI,EAAGyH,QAAS,OAClB,CAAEzH,GAAI,EAAGyH,QAAS,OAClB,CAAEzH,GAAI,EAAGyH,QAAS,UAItBwB,QAAS,CACL,CAAEjJ,GAAI,EAAGmC,KAAM,QACf,CAAEnC,GAAI,EAAGmC,KAAM,UACf,CAAEnC,GAAI,EAAGmC,KAAM,WAmBV+G,EAA2B,SAACC,GAAD,MAAqB,CAAEpK,KAAMiK,EAAcG,mBAEpEvE,IAhBQ,WAAmC,IAAlCjF,EAAiC,uDAAzBrB,EAAcsB,EAAW,uCAErD,GAAQA,EAAOb,OACNiK,EAAL,CACI,IAAII,EAAOxJ,EAAOuJ,eAClB,OAAO,2BAAIxJ,GAAX,IACA+H,SAAS,GAAD,mBAAM/H,EAAM+H,UAAZ,CAAsB,CAAE1H,GAAI,EAAGyH,QAAS2B,EAAO,gDAIvD,OAAOzJ,I,mBC3BnB1D,EAAOC,QAAU,CAAC,WAAa,0BAA0B,SAAW,0B,+BCDpE,kHAEMmN,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAQ,gDACRC,QAAS,CACL,UAAW,0CAKNlG,EAAU,CACnBjB,SADmB,WACuB,IAAjC5D,EAAgC,uDAAlB,EAAGF,EAAe,uDAAJ,GACjC,OAAO6K,EAASK,IAAT,qBAA2BhL,EAA3B,kBAAgDF,IAClDlC,MAAK,SAAAgL,GACF,OAAOA,EAAS9H,SAI5BoC,OARmB,SAQZ9C,GACH,OAAOuK,EAASM,KAAT,iBAAwB7K,KAGnC6C,SAZmB,SAYV7C,GACL,OAAOuK,EAASO,OAAT,iBAA0B9K,KAGrC4J,WAhBmB,SAgBR5J,GAEP,OADA+K,QAAQC,KAAK,kDACNlB,EAAWF,WAAW5J,KAIxB8J,EAAa,CACtBF,WADsB,SACX5J,GACP,OAAOuK,EAASK,IAAI,WAAa5K,IAErC6J,UAJsB,SAIZ7J,GACN,OAAOuK,EAASK,IAAI,kBAAoB5K,IAE5C+J,aAPsB,SAOTzG,GACT,OAAOiH,EAASU,IAAT,iBAA+B,CAAC3H,OAAQA,MAM1CgF,EAAU,CACnBC,GADmB,WAEf,OAAOgC,EAASK,IAAT,YAEX5F,MAJmB,SAIbmD,EAAOM,EAAUC,GACnB,OAAO6B,EAASM,KAAT,aAA4B,CAAC1C,QAAOM,WAAUC,gBAEzDzD,OAPmB,WAQf,OAAOsF,EAASO,OAAT,kB","file":"static/js/main.47a24404.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1JLm7\",\"item\":\"Nav_item__1Bqih\",\"activeLink\":\"Nav_activeLink__8yt9A\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from  './Nav.module.css';\r\n\r\n\r\n\r\nconst Nav = () => {\r\n    return (<nav className={s.nav}>\r\n        <div className={s.item}><NavLink to=\"/Profile\" activeClassName={s.activeLink}>Profile</NavLink></div> {/* NavLink при нажатии на Profile отрисовывает в URL to=\"/Profile\" */}\r\n        <div className={s.item}><NavLink to=\"/Dialogs\" activeClassName={s.activeLink}>Messages</NavLink></div>\r\n        <div className={s.item}><NavLink to=\"/News\" activeClassName={s.activeLink}>Mews</NavLink></div>\r\n        <div className={s.item}><NavLink to=\"/Music\" activeClassName={s.activeLink}>Music</NavLink></div>\r\n        <div className={s.item}><NavLink to=\"/Settings\" activeClassName={s.activeLink}>Settings</NavLink></div>\r\n        <hr />\r\n        <div className={s.item}><NavLink to=\"/Users\" activeClassName={s.activeLink}>Friends online</NavLink></div>\r\n\r\n    </nav>\r\n    )\r\n}\r\nexport default Nav;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (<div>\r\n        <a> First news </a>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (<div>\r\n        <a> TamTararaaaam </a>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (<div>\r\n        <a> Settings </a>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Settings;","//универсальный мапинг\r\n\r\nexport const updateObjectArray = (items, itemId, objPropName,newObjProps) => {\r\n   return items.map(u => {    //.map возвращает новый массив который заменит\r\n        if (u[objPropName] === itemId) { //если найдёт совподения по такому objPropName из обьекта с таким itemId \r\n            return { ...u, ...newObjProps }  // создаст новую копию объекта и заменит старые св-ва\r\n        }\r\n        return u; //если id не совподает то возвращаем старый объект\r\n    })\r\n}","import { userAPI } from \"../api/api\";\r\nimport { updateObjectArray } from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW'; // ну тут вроде понятно, объявление в глобальную константу\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'; //переключи значение из фетчинга\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'; //переключи значение из запроса на подписку\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 4,  //сколько пользователей на одной странице\r\n    totalUsersCount: 0,  //общее кол пользователей\r\n    currentPage: 1, // с какой страницы начать\r\n    isFetching: true, //состояние запроса\r\n    followingInProgress: [], // в каком состоянии прогресс подписки, если запрос обрабатывается то false\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {  //редьюсер принимает старый state и меняет его на основании action\r\n\r\n    switch (action.type) {  //если объект action имеет тип FOLLOW тогда выполняем этот код (добовляем пост из textarea)\r\n\r\n        case FOLLOW: //если нужно кого то за'followed \r\n            return {     \r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userId, \"id\", {followed: true }) //рефакторинг \r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {     \r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userId, \"id\", {followed: false })\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users } //берём из state'a старых юзеров которые там были создать копию массива и дописать к ним юзеров которые к нам пришли из action (склеиваем тех кто были в state и теъх кто пришел в action)\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage } //создаём копию stat'a и дополняем её action'ом меняя страницу\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count } //создаём копию stat'a и дополняем её action'ом\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching } //создаём копию stat'a и дополняем её action'ом. !!!Dispatch'ит (отправляет) только объект!!!\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId] // добавить в state и дизейблить ту что пришла в userId\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            } //пропускаем только ту id которая не ровна той id которая в акшине пришла (фильтрация уже возвращает нам копию массива  )\r\n        }\r\n\r\n        default:                                     //если не соответствует не одному action тогда вернуть state\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n//ACTION CREATOR\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })   //сюда приходит тип и значение\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\n\r\n\r\n//САНКИ(thunk) - это ф-ции которые внутри делают какую то комбинацию диспатчей связанную с асинхронной операцией (ajax запрос)\r\nexport const getUser = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true)) //когла идёт запрос на сервер, включить  анимацию загрузки\r\n        let data = await userAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false))   //когда запрос приходит, выключаем  анимацию загрузки\r\n        dispatch(setUsers(data.items))  //придёт response у него мы берём из data'ы items и totalCount,\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    };                                         //и пробрасываем через props в setUsers контейнера\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Cоздаём универсальную ф-цию для подписки и отписки \r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {  //сюда приходят параметры метода\r\n    dispatch(toggleFollowingProgress(true, userId));  //дожидаемся пока промис за'resolved (будет решен)\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode == 0) {                // если resultCode пришел 0, значит ошибок нет\r\n        dispatch(actionCreator(userId))                 //  и выполняется отписка/подписка от/к определённого пользователя\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));    //когда запрос закончится передать toggleFollowingProgress folse и id user'a и кнопка разблокируется\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess)  //вызываем общий метод с (параметрами)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 30 }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize); //сколько порций получится исходя из нами выставленного значения portionSize\r\n    let [portionNumber, setPortionNumber] = useState(1); //хук у которого со старта portionNumber = 1, а setPortionNumber его меняет\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1; //формула что бы получить левую границу\r\n    let rightPortionPageNumber = portionNumber * portionSize;//формула что бы получить правую границу\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&  //если portionNumber больше одного, показывать кнопку в лево\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> //установи номер порции (portionNumber) при нажатии -1\r\n            } \r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                    key={p}\r\n\r\n                    onClick={(e) => { onPageChanged(p) }}>  {p}</span> //при нажатии на кнопку установи текущую страницу\r\n            })}\r\n        {portionCount > portionNumber && //показывать кнопку только если количество порций больше чем количество текущей порции\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> //установи номер порции (portionNumber) при нажатии +1\r\n            }\r\n\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator; ","import React from \"react\";\r\nimport styles from './Users.module.css';\r\nimport flyCat from '../../assets/image/flyCat.png'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return <div>\r\n        <span>\r\n            <div className='avaUsers'>\r\n                <NavLink to={'/profile/'    //+ u.id это id пользователя в api/1.0/users\r\n                    + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : flyCat} className={styles.usersPhoto} />\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress\r\n                        .some(id => id === user.id)} //если в редьюсере в массиве followingInProgress хоть одна id = id пользователя то тогда заблокировать кнопку\r\n                        onClick={() => {\r\n                            unfollow(user.id);\r\n                        }}> Отписаться </button> //если нажать на кнопку сообщи родителю unfollow и передай туда id\r\n\r\n                    : <button disabled={followingInProgress\r\n                        .some(id => id === user.id)} //если в массиве хоть одна id = id пользователя то тогда заблокировать кнопку\r\n                        onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Подписаться</button>    //если нажать на кнопку сообщи родителю follow и передай туда id\r\n                }\r\n            </div>\r\n        </span>\r\n        <span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                <div>{\"Загнивающая страна\"}</div>\r\n                <div>{\"Жопосранск\"}</div>\r\n            </span>\r\n        </span>\r\n    </div>\r\n\r\n}\r\n\r\nexport default User;","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\r\n    return <div>\r\n        {users.map(u => <User\r\n            user={u}\r\n            followingInProgress={props.followingInProgress}\r\n            key={u.id}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow} />\r\n        )\r\n        }\r\n        <div>\r\n        <Paginator\r\n            currentPage={currentPage}\r\n            onPageChanged={onPageChanged}\r\n            totalItemsCount={totalUsersCount}\r\n            pageSize={pageSize} />\r\n    </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\"\r\n\r\n const getUsersSelector = (state) => {   //селектор отрабатывает как ссылка в state, берёт от туда то что нужно\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users)=> { //передаём селектор getUsersSelector который будет использоваться что бы получить users (каждому сложному селектору нужен приметивный селектор)\r\n    return users.filter(u=> true);                          //фейковый фильтр\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUser } from \"../../redux/users-reducer\";\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../redux/users-selectors\";\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component { //расширяем что бы реакт мог взаимодействовать с User\r\n\r\n    componentDidMount() {  // Происходит монтирование компоненты с сервера (запрос на сервак)\r\n        const{currentPage, pageSize} = this.props;\r\n        this.props.getUser(currentPage, pageSize);// заменили весь запрос с диспатчами (api)\r\n\r\n    }\r\n\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const{pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber); \r\n        this.props.getUser(pageNumber, pageSize); // заменили весь запрос с диспатчами (api)\r\n    }\r\n\r\n    render() {  //метод render возвращает JSX (начинает работать  первым)\r\n\r\n        return <>\r\n        { this.props.isFetching ? <Preloader />  : null}        \r\n            <Users totalUsersCount={this.props.totalUsersCount}  //отдаём через пропсы компаненте данные \r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}          //данный колбэк у нас не в пропсах, по этму передаём просто через this\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => { //это ф-ция которая принимает весть state целиком\r\n    return {                       // и возвращает объект только с теми данными которые реально нужны \r\n        users: getUsers(state),   //список пользователей (из селектора)\r\n        pageSize: getPageSize(state),  //размер страницы(из селектора)\r\n        totalUsersCount: getTotalUsersCount(state),  //общее количество пользователей(из селектора)\r\n        currentPage: getCurrentPage(state),       //текущая страница(из селектора)\r\n        isFetching: getIsFetching(state),        //состояние запроса (из селектора)\r\n        followingInProgress:getFollowingInProgress(state), // прогресс запроса(из селектора)\r\n    }\r\n}\r\n\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress,getUser}))\r\n    (UsersContainer);//compose возми UsersContainer и закинь их в whisAuthRedirect, а этот результат закинь в connect;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\n\r\nconst Header = (props) => {\r\n  return <header className={s.header}>\r\n    <img src='https://www.reviewpro.com/wp-content/uploads/2019/03/mews-logo-dark.png'></img>\r\n\r\n    <div className={s.loginBlock}>\r\n      {props.isAuth\r\n        ? <div> {props.login} - <button onClick={props.logout}> Logout </button> </div>\r\n        : <NavLink to={'/login'}>Login</NavLink>}\r\n    </div>\r\n  </header>\r\n}\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {  logout } from '../../redux/auth-reducer';\r\nimport Header from './Header'\r\n\r\n\r\n\r\nclass  HeaderContainer extends React.Component {\r\n\r\n    render(){\r\n    return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth, //получение флага isAuth (залогиненны мы или нет)\r\n    login: state.auth.login, //отрисовка login пользователя\r\n});\r\n\r\nexport default connect (mapStateToProps, { logout}) (HeaderContainer);","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'; // установить пользовательские данные\r\n\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {  //редьюсер принимает старый state и меняет его на основании action\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {                                     //мы возвращаем копию всего state'a\r\n                ...state,\r\n                initialized: true // если к нам придёт в action initialized изменяем его на true\r\n            }\r\n        default:                                     //если не соответствует не одному action тогда вернуть state\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n    dispatch(initializedSuccess())\r\n})\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","     let initialState = {\r\n        friendsOnline: [\r\n            { id: 1, name: 'Lena' },\r\n            { id: 2, name: 'Viktor' },\r\n            { id: 3, name: 'Artur' }\r\n        ],\r\n    }\r\n\r\n    const sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\n\r\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;    //для работы расширения Redux DevTools Extension\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nexport const withSuspense = (Component) => { //передали в ХОК компоненту\r\n\r\n    return (props) => { // компоненту обернули и вернули обратно  в withSuspense\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Nav from './components/Navbar/Nav';\r\nimport News from './components/News/News'\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\n\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializeApp } from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { Provider } from 'react-redux';\r\nimport { withSuspense } from './HOC/withSuspense';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')); //типа компанента загружена \r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer')); //типа компанента загружена \r\nconst LoginPage = React.lazy(() => import('./components/Login/Login')); //типа компанента загружена \r\n\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {  // Происходит монтирование компоненты с сервера (запрос на сервак)\r\n    this.props.initializeApp() // получаем из auth-reduser проверку что мы залогиненны\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Nav />\r\n        <div className='app-wrapper-content'>\r\n          <Route path='/Dialogs'   //Route следит за URL и загружается если path'ы совпадают\r\n            render={withSuspense\r\n              (DialogsContainer) //та компонента что будет загружаться лениво\r\n            } />\r\n          <Route path='/profile/:userId?'  // creating params (/:userId) for profile at user ID\r\n            render={withSuspense\r\n              (ProfileContainer)//та компонента что будет загружаться лениво\r\n            } />\r\n          <Route path='/News'\r\n            render={() => <News />} />\r\n          <Route path='/Music'\r\n            render={() => <Music />} />\r\n          <Route path='/Settings'\r\n            render={() => <Settings />} />\r\n          <Route path='/Users'\r\n            render={() => <UsersContainer />} />\r\n          <Route path='/login'\r\n            render={withSuspense\r\n              (LoginPage)//та компонента что будет загружаться лениво\r\n            } />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n  withRouter,   // для роутов (иначе не сможем переходить по роутам)\r\n  connect(mapStateToProps, { initializeApp }))(App); // когда мы конектим компоненту с роутоми, роутинг сбивается\r\n\r\nconst SamuraiJsAPP = (props) => {\r\n  return <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n      </HashRouter>\r\n  </React.StrictMode>\r\n\r\n}\r\n\r\nexport default SamuraiJsAPP;","import reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJsAPP from './App';\r\n\r\n\r\n\r\nReactDOM.render(<SamuraiJsAPP />, document.getElementById('root')) // Берём из App\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA =  'samurai-network/auth/SET_USER_DATA'; // установить пользовательские данные\r\n\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {  //редьюсер принимает старый state и меняет его на основании action\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {                                     //мы возвращаем копию всего state'a\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:                                     //если не соответствует не одному action тогда вернуть state\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => (\r\n    { type: SET_USER_DATA, payload: { userId, email, login, isAuth } }\r\n    )\r\n\r\n\r\nexport const getAuthUserData = () => async(dispatch) => {  //дожидаться промис мы можем только в ассинхронной ф-ции\r\n    let response = await authAPI.me()  //дожидаемся пока промис за'resolved (будет решен)\r\n\r\n        if (response.data.resultCode === 0) {  //если resultCode = 0 тогда\r\n            let { id, email, login } = response.data.data; // мы берём из data'ы  id, email, login и выставляем флаг isAuth true\r\n            dispatch(setAuthUserData(id, email, login, true)); //и отправляем полученные данные в state через setAuthUserData\r\n        }\r\n    }\r\n\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe) //в response у нас приходит промис await  login\r\n\r\n        if (response.data.resultCode === 0) {  //если resultCode = 0 тогда\r\n            dispatch(getAuthUserData()); //и отправляем полученные данные в state через getAuthUserData\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"; \r\n            dispatch(stopSubmit(\"login\", { _error: message }));//пердаём форму login в которой ко всем элементам в случае ошибки в логин или пароль будет выводится ошибка с сервера\r\n        }\r\n    };\r\n\r\n\r\nexport const logout = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await  authAPI.logout()     //когда сервак даст ответ затем (then) выполни стрелочную ф-цию\r\n        if (response.data.resultCode === 0) {  //если resultCode = 0 тогда\r\n            dispatch(setAuthUserData(null, null, null, false)); // зануляем \r\n        }\r\n}\r\n\r\n\r\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/loader.7cd1db2b.svg\";","import React from 'react';\r\nimport loader from './../../../assets/image/loader.svg'\r\n\r\n\r\nlet Preloader = (props) => {\r\n     return <img src={loader} />\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1haXN\",\"pageNumber\":\"Paginator_pageNumber__1hVon\",\"selectedPage\":\"Paginator_selectedPage__2v7Tv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__208Kf\",\"loginBlock\":\"Header_loginBlock__Qf9ax\"};","import { profileAPI, userAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'ya Oleg', likesCount: '+16' },\r\n        { id: 2, message: 'ya tozhe', likesCount: '+21' },\r\n        { id: 3, message: 'a ya zhenya', likesCount: '-12' },\r\n        { id: 4, message: 'Dada', likesCount: 11 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {  //если объект action имеет тип ADD_POST тогда выполняем этот код (добовляем пост из textarea)\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        default:                                     //если не соответствует не одному action тогда вернуть state\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPost) => ({ type: ADD_POST, newPost })   //что бы не писать в UI тип данных мы обьявили его тут и передали в MyPosts\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\n\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId)          //в response сидит результат которым зарезолвится промис\r\n    dispatch(setUserProfile(response.data))                //придёт response у него мы берём из data'ы,\r\n};                                                        //и пробрасываем через props в setUserProfile контейнера\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {  \r\n    let response = await profileAPI.getStatus(userId)     \r\n    dispatch(setStatus(response.data))                    //придёт response у него мы берём из data'ы,\r\n};                                                       //и пробрасываем через props в setUserProfile контейнера\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)     \r\n    if (response.data.resultCode === 0) {                // и если всё впорядке тогда \r\n        dispatch(setStatus(status))                      //мы берём из data'ы status\r\n    } \r\n};\r\n\r\n\r\n\r\n\r\nexport default profileReducer;","const SAND_MESSAGE = 'SAND-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        { id: 1, message: 'Hey' },\r\n        { id: 2, message: 'Bro' },\r\n        { id: 3, message: 'tools' }\r\n    ],\r\n\r\n\r\n    dialogs: [\r\n        { id: 1, name: 'Lena' },\r\n        { id: 2, name: 'Viktor' },\r\n        { id: 3, name: 'Artur' }\r\n    ],\r\n\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => { //если объект action имеет тип SAND_MESSAGE тогда выполняем этот код (добовляем message из textarea)\r\n\r\n    switch (action.type) {\r\n        case SAND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {...state,                    //сделали копию state\r\n            messages: [...state.messages, { id: 4, message: body + \"   ТУЦ-ТУЦ\" }],  //создаём новый массив, слева у нас старый массив, а справа у нас новое сообщение (т.е. новое сообщение будет пушиться под старым массивом), если добавить вначало, то будет пушиться над старым массивом.\r\n        }; \r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({ type: SAND_MESSAGE, newMessageBody }) // принимаем сообщение из контейнерной компоненты и добовляем его\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__3vk0Q\",\"avaUsers\":\"Users_avaUsers__23iB7\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true, //  исп. куки, показать что я авторизован\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"4b7c36f2-f146-498a-8850-f32bc3f1361f\"\r\n    }\r\n})\r\n\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`) // запрос на сервер\r\n            .then(response => {    // теперь нам get запрос возвращает из response только data\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn(\"Obsolete method. Please use profileAPI object \")\r\n        return profileAPI.getProfile(userId) // делегирование на другой метод\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId); // запрос на сервер\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId); // запрос на сервер\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status}); // запрос на сервер\r\n    },\r\n}\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe) {    // post'им данные о авторизации\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {    // удавляем данные о авторизации (разлогиниваемся)\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}"],"sourceRoot":""}